import QtQuick 2.0

Item {
    property var param
    property int precision: 0
    property double min: 0
    property double max: 1
    property double minNorm: 0
    property double maxNorm: 1
    property var statusColors: {"":"gray", "NORMAL":"white", "NOT_NORMAL":"orange", "OUT_OF_RANGE":"red" }

    WidgetLabel {
        id: widgetValue
        x: 0; y: 0
        width: 60; height: 26
        font.pixelSize: 26
        font.family: "Digital-7"
        horizontalAlignment: Text.AlignHCenter
        visible: true
        text: updateValue()
        color: updateColor()
    }

    function updateValue() {
        if(!param.engValidity) return ""

        if(isNaN(param.engValue))
            return param.engValue;
        else
            return Number(param.engValue).toFixed(precision);
    }

    function updateColor() {
        if(!param.engValidity || isNaN(param.engValue))
            return statusColors[""];
        else if((param.engValue < min) || (param.engValue > max))
            return statusColors["OUT_OF_RANGE"];
        else if((param.engValue < minNorm) || (param.engValue > maxNorm))
            return statusColors["NOT_NORMAL"];
        else
            return statusColors["NORMAL"];
    }

}
