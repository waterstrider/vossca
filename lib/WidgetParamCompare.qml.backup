import QtQuick 2.0

Item {
    property var param1
    property var param2
    property double min1: 0.0
    property double min2: 0.0
    property double max1: 1.0
    property double max2: 1.0
    property double _offset: 14.0/285.0 * imgScale.width

    Image {
        id: imgScale
        source:"images/widget_compare_bar.png"
        scale: 0.9

        Image {
            x: (Math.min(updateValue1(),max1)-min1)/(max1-min1)*(parent.width - 2*_offset) + _offset - width/2
            y: 22
            source:"images/arrow_up.png"
        }
        Image {
            x: (Math.min(updateValue2(),max2)-min2)/(max2-min2)*(parent.width - 2*_offset) + _offset - width/2
            y: 32
            source:"images/arrow_down.png"
        }
    }

    function updateValue1() {
        if(!param1.engValidity || isNaN(param1.engValue))
            return 0;
        else
            return Number(param1.engValue);
    }
    function updateValue2() {
        if(!param2.engValidity || isNaN(param2.engValue))
            return 0;
        else
            return Number(param2.engValue);
    }

//    Component.onCompleted: {
//        updateValue1();
//        updateValue2();
//    }
//    onParam1Changed: {
//        param1.nameChanged.connect(updateValue1);
//        param1.engValueChanged.connect(updateValue1);
//    }
//    onParam2Changed: {
//        param2.nameChanged.connect(updateValue2);
//        param2.engValueChanged.connect(updateValue2);
//    }

}
